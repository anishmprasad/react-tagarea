!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("draft-js"),require("prop-types"),require("immutable"),require("styled-components")):"function"==typeof define&&define.amd?define(["react","draft-js","prop-types","immutable","styled-components"],e):"object"==typeof exports?exports.app=e(require("react"),require("draft-js"),require("prop-types"),require("immutable"),require("styled-components")):t.app=e(t.react,t["draft-js"],t["prop-types"],t.immutable,t["styled-components"])}(this,(function(t,e,n,r,o){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e){t.exports=o},function(t,e,n){var r=n(14).Symbol;t.exports=r},function(t,e,n){(function(e){var n=/[\\^$.*+?()[\]{}|]/g,r=RegExp(n.source),o="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")(),c=Object.prototype.toString,u=a.Symbol,s=u?u.prototype:void 0,p=s?s.toString:void 0;function f(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return p?p.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}t.exports=function(t){var e;return(t=null==(e=t)?"":f(e))&&r.test(t)?t.replace(n,"\\$&"):t}}).call(this,n(7))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,c,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),c=function(t,e){return e?e.querySelector(t):document.querySelector(t)},u=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=c.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),s=null,p=0,f=[],l=n(25);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],e))}else{var c=[];for(a=0;a<r.parts.length;a++)c.push(v(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:c}}}}function y(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function g(t,e){var n=u(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=u(t.insertAt.before,n);n.insertBefore(e,o)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function b(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return m(e,t.attrs),g(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function v(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=p++;n=s||(s=b(e)),r=j.bind(null,n,a,!1),o=j.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),g(t,e),e}(e),r=x.bind(null,n,e),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(e),r=w.bind(null,n),o=function(){h(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=y(t,e);return d(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(c=i[a.id]).refs--,r.push(c)}t&&d(y(t,e),e);for(o=0;o<r.length;o++){var c;if(0===(c=r[o]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete i[c.id]}}}};var O,S=(O=[],function(t,e){return O[t]=e,O.filter(Boolean).join("\n")});function j(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=S(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function w(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function x(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=l(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),c=t.href;t.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}},function(t,e,n){var r=n(12),o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source);t.exports=function(t){return(t=r(t))&&i.test(t)?t.replace(o,"\\$&"):t}},function(t,e,n){var r=n(26);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(9)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(13);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(5),o=n(16),i=n(17),a=n(18),c=r?r.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(15),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(7))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(19),o=n(22);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(5),o=n(20),i=n(21),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(5),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(24);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(9)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(8)(!1)).push([t.i,".mentionSuggestions{border:1px solid #eee;margin-top:0.4em;position:absolute;min-width:220px;max-width:440px;background:#fff;border-radius:2px;box-shadow:0px 4px 30px 0px #dcdcdc;cursor:pointer;padding-top:8px;padding-bottom:8px;z-index:2;display:flex;flex-direction:column;box-sizing:border-box;transform:scale(0)}\n",""]),t.exports=e},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){(e=n(8)(!1)).push([t.i,".editor{box-sizing:border-box;border:1px solid #ddd;cursor:text;padding:16px;border-radius:2px;margin-bottom:2em;box-shadow:inset 0px 1px 8px -3px #ababab;background:#fefefe}.editor :global(.public-DraftEditor-content){min-height:140px}\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return fe}));var r=n(0),o=n.n(r),i=n(1),a=n(2),c=n.n(a),u=n(3),s=n.n(u),p=["focus","blur","setMode","exitCurrentMode","restoreEditorDOM","setRenderGuard","removeRenderGuard","setClipboard","getClipboard","getEditorKey","update","onDragEnter","onDragLeave"],f=function(t){var e=t.getCurrentContent().getBlockMap(),n=e.last().getKey(),r=e.last().getLength(),o=new i.SelectionState({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r});return i.EditorState.acceptSelection(t,o)};function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.decorators=s.a.List(e)}var e,n,r;return e=t,r=[{key:"getInnerKey",value:function(t){return t.split("-").slice(1).join("-")}}],(n=[{key:"getDecorations",value:function(t,e){var n=new Array(t.getText().length).fill(null);return this.decorators.forEach((function(r,o){r.getDecorations(t,e).forEach((function(t,e){t&&(n[e]=o+"-"+t)}))})),s.a.List(n)}},{key:"getComponentForKey",value:function(e){return this.getDecoratorForKey(e).getComponentForKey(t.getInnerKey(e))}},{key:"getPropsForKey",value:function(e){return this.getDecoratorForKey(e).getPropsForKey(t.getInnerKey(e))}},{key:"getDecoratorForKey",value:function(t){var e=t.split("-"),n=Number(e[0]);return this.decorators.get(n)}}])&&h(e.prototype,n),r&&h(e,r),t}();function m(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O=function(t){return"function"==typeof t.getDecorations&&"function"==typeof t.getComponentForKey&&"function"==typeof t.getPropsForKey},S=function(t,e,n){var r=function(t){var e=t.decorators,n=t.plugins;return Object(u.List)([{decorators:e}].concat(m(n))).filter((function(t){return void 0!==t.decorators})).flatMap((function(t){return t.decorators}))}(t),a=function(t,e,n){var r=Object(u.List)(t).map((function(t){var r=t.component;return d(d({},t),{},{component:function(t){return o.a.createElement(r,g({},t,{getEditorState:e,setEditorState:n}))}})})).toJS();return new i.CompositeDecorator(r)}(r.filter((function(t){return!O(t)})),e,n),c=r.filter((function(t){return O(t)}));return new b(c.push(a))},j={keyBindingFn:function(t){return Object(i.getDefaultKeyBinding)(t)}},w={handleKeyCommand:function(t,e,n,r){var o,a=r.setEditorState;switch(t){case"backspace":case"backspace-word":case"backspace-to-start-of-line":o=i.RichUtils.onBackspace(e);break;case"delete":case"delete-word":case"delete-to-end-of-block":o=i.RichUtils.onDelete(e);break;default:return"not-handled"}return null!=o?(a(o),"handled"):"not-handled"}};function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function P(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function C(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=K(t);if(e){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U=function(t){var e;return null!=t.decorators?e=t.decorators:null!=t._decorators&&(e=t._decorators),null!=e.size?e.size:e.length},B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(c,t);var e,n,r,a=I(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),F(_(e=a.call(this,t)),"onChange",(function(t){var n=t;e.resolvePlugins().forEach((function(t){t.onChange&&(n=t.onChange(n,e.getPluginMethods()))})),e.props.onChange&&e.props.onChange(n,e.getPluginMethods())})),F(_(e),"getPlugins",(function(){return e.props.plugins.slice(0)})),F(_(e),"getProps",(function(){return M({},e.props)})),F(_(e),"getReadOnly",(function(){return e.props.readOnly})),F(_(e),"setReadOnly",(function(t){t!==e.state.readOnly&&e.setState({readOnly:t})})),F(_(e),"getEditorRef",(function(){return e.editor})),F(_(e),"getEditorState",(function(){return e.props.editorState})),F(_(e),"getPluginMethods",(function(){return{getPlugins:e.getPlugins,getProps:e.getProps,setEditorState:e.onChange,getEditorState:e.getEditorState,getReadOnly:e.getReadOnly,setReadOnly:e.setReadOnly,getEditorRef:e.getEditorRef}})),F(_(e),"createEventHooks",(function(t,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=[].slice.apply(o);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&!0===e[t].apply(e,C(a))}))}})),F(_(e),"createHandleHooks",(function(t,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=[].slice.apply(o);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&"handled"===e[t].apply(e,C(a))}))?"handled":"not-handled"}})),F(_(e),"createFnHooks",(function(t,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a,c,u=[].slice.apply(o);if(u.push(e.getPluginMethods()),"blockRendererFn"===t){var s={props:{}};return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,C(u));if(null!=n){var r=n.props,o=P(n,["props"]),i=s,a=i.props,c=P(i,["props"]);s=M(M(M({},c),o),{},{props:M(M({},a),r)})}}})),!!s.component&&s}if("blockStyleFn"===t)return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,C(u));null!=n&&(a=(a?"".concat(a," "):"")+n)}})),a||"";var p=n.some((function(e){return"function"==typeof e[t]&&void 0!==(c=e[t].apply(e,C(u)))}));return!!p&&c}})),F(_(e),"createPluginHooks",(function(){var t={},n=[],r=[],o=[],i=[e.props].concat(C(e.resolvePlugins()));return i.forEach((function(t){Object.keys(t).forEach((function(t){"onChange"!==t&&(-1===n.indexOf(t)&&-1===o.indexOf(t)&&(0===t.indexOf("on")?n.push(t):0===t.indexOf("handle")?r.push(t):t.length-2===t.indexOf("Fn")&&o.push(t)))}))})),n.forEach((function(n){t[n]=e.createEventHooks(n,i)})),r.forEach((function(n){t[n]=e.createHandleHooks(n,i)})),o.forEach((function(n){t[n]=e.createFnHooks(n,i)})),t})),F(_(e),"resolvePlugins",(function(){var t=e.props.plugins.slice(0);return!0===e.props.defaultKeyBindings&&t.push(j),!0===e.props.defaultKeyCommands&&t.push(w),t})),F(_(e),"resolveCustomStyleMap",(function(){return e.props.plugins.filter((function(t){return void 0!==t.customStyleMap})).map((function(t){return t.customStyleMap})).concat([e.props.customStyleMap]).reduce((function(t,e){return M(M({},t),e)}),{})})),F(_(e),"resolveblockRenderMap",(function(){var t=e.props.plugins.filter((function(t){return void 0!==t.blockRenderMap})).reduce((function(t,e){return t.merge(e.blockRenderMap)}),Object(u.Map)({}));return e.props.defaultBlockRenderMap&&(t=i.DefaultDraftBlockRenderMap.merge(t)),e.props.blockRenderMap&&(t=t.merge(e.props.blockRenderMap)),t})),F(_(e),"resolveAccessibilityProps",(function(){var t={};return[e.props].concat(C(e.resolvePlugins())).forEach((function(e){if("function"==typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),r={};void 0===t.ariaHasPopup?r.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(r.ariaHasPopup="true"),void 0===t.ariaExpanded?r.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(r.ariaExpanded=!0),t=M(M(M({},t),n),r)}})),t})),[e.props].concat(C(e.resolvePlugins())).forEach((function(t){"function"==typeof t.initialize&&t.initialize(e.getPluginMethods())})),p.forEach((function(t){e[t]=function(){var n;return(n=e.editor)[t].apply(n,arguments)}})),e.state={},e}return e=c,(n=[{key:"UNSAFE_componentWillMount",value:function(){var t=S(this.props,this.getEditorState,this.onChange),e=i.EditorState.set(this.props.editorState,{decorator:t});this.onChange(f(e))}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this.props.editorState.getDecorator(),n=t.editorState.getDecorator();if(e&&!(e===n||e&&n&&U(e)===U(n))){var r=i.EditorState.set(t.editorState,{decorator:e});this.onChange(f(r))}}},{key:"componentWillUnmount",value:function(){var t=this;this.resolvePlugins().forEach((function(e){e.willUnmount&&e.willUnmount({getEditorState:t.getEditorState,setEditorState:t.onChange})}))}},{key:"render",value:function(){var t=this,e=this.createPluginHooks(),n=this.resolveCustomStyleMap(),r=this.resolveAccessibilityProps(),a=this.resolveblockRenderMap();return o.a.createElement(i.Editor,E({},this.props,r,e,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:a,onChange:this.onChange,editorState:this.props.editorState,ref:function(e){t.editor=e}}))}}])&&A(e.prototype,n),r&&A(e,r),c}(r.Component);F(B,"propTypes",{editorState:c.a.object.isRequired,onChange:c.a.func.isRequired,plugins:c.a.array,defaultKeyBindings:c.a.bool,defaultKeyCommands:c.a.bool,defaultBlockRenderMap:c.a.bool,customStyleMap:c.a.object,decorators:c.a.array}),F(B,"defaultProps",{defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]});var L=B;function N(t){var e,n,r="";if(t)if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=N(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(n=N(e))&&(r&&(r+=" "),r+=n);else"boolean"==typeof t||t.call||(r&&(r+=" "),r+=t);return r}var H=function(t){var e=t.mention,n=t.children,r=t.className;return o.a.createElement("a",{href:e.link,className:r,spellCheck:!1},n)},q=function(t){var e=t.children,n=t.className;return o.a.createElement("span",{className:n,spellCheck:!1},e)},z=function(t){var e=t.entityKey,n=t.theme,r=void 0===n?{}:n,i=t.mentionComponent,a=t.children,c=t.decoratedText,u=t.className,s=t.contentState,p=function(){for(var t,e=0,n="";e<arguments.length;)(t=N(arguments[e++]))&&(n&&(n+=" "),n+=t);return n}(r.mention,u),f=s.getEntity(e).getData().mention,l=i||(f.link?H:q);return o.a.createElement(l,{entityKey:e,mention:f,theme:r,className:p,decoratedText:c},a)},$=n(10),W=n.n($);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Z(t);if(e){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?Q(t):e}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(a,t);var e,n,r,i=X(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),tt(Q(e=i.call(this,t)),"onMouseUp",(function(){e.mouseDown&&(e.props.onMentionSelect(e.props.mention),e.mouseDown=!1)})),tt(Q(e),"onMouseDown",(function(t){t.preventDefault(),e.mouseDown=!0})),tt(Q(e),"onMouseEnter",(function(){e.props.onMentionFocus(e.props.index)})),e.mouseDown=!1,e}return e=a,(n=[{key:"componentDidUpdate",value:function(){this.mouseDown=!1}},{key:"render",value:function(){var t=this.props,e=t.theme,n=void 0===e?{}:e,r=t.mention,i=t.searchValue,a=t.isFocused,c=t.id,u=a?n.mentionSuggestionsEntryFocused:n.mentionSuggestionsEntry,s=this.props.entryComponent;return o.a.createElement(s,{className:u,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,role:"option",id:c,"aria-selected":a?"true":null,theme:n,mention:r,isFocused:a,searchValue:i})}}])&&G(e.prototype,n),r&&G(e,r),a}(r.Component);tt(et,"propTypes",{entryComponent:c.a.any.isRequired,searchValue:c.a.string,onMentionSelect:c.a.func});var nt=function(t,e,n){var r=e.getAnchorKey(),o=e.getAnchorOffset();return function(t,e,n){var r=t.substr(0,e),o=0===n.length?0:r.lastIndexOf(n),i=0===n.length?r:r.slice(o+n.length);return{begin:o,end:r.length,matchingString:i}}(t.getCurrentContent().getBlockForKey(r).getText(),o,n)},rt=function(t){return"@"===t?"mention":"".concat(t,"mention")},ot=function(t,e,n,r,o){var a=t.getCurrentContent().createEntity(rt(r),o,{mention:e}).getLastCreatedEntityKey(),c=t.getSelection(),u=nt(t,c,r),s=u.begin,p=u.end,f=c.merge({anchorOffset:s,focusOffset:p}),l=i.Modifier.replaceText(t.getCurrentContent(),f,"".concat(n).concat(e.name),null,a),d=f.getAnchorKey();t.getCurrentContent().getBlockForKey(d).getLength()===p&&(l=i.Modifier.insertText(l,l.getSelectionAfter()," "));var y=i.EditorState.push(t,l,"insert-mention");return i.EditorState.forceSelection(y,l.getSelectionAfter())};function it(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return at(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ct=function(t){var e=it(t.split("-"),3),n=e[0],r=e[1],o=e[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(o,10)}},ut=function(t){var e=t.mention,n=t.theme,r=void 0===n?{}:n;return e.avatar?o.a.createElement("img",{src:e.avatar,className:r.mentionSuggestionsEntryAvatar,role:"presentation"}):null};function st(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var pt=function(t){var e=t.mention,n=t.theme,r=(t.isFocused,t.searchValue,st(t,["mention","theme","isFocused","searchValue"]));return o.a.createElement("div",r,o.a.createElement(ut,{mention:e,theme:n}),o.a.createElement("span",{className:n.mentionSuggestionsEntryText},e.name))};n(23);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){St(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ot(t);if(e){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?vt(t):e}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(c,t);var e,n,r,a=bt(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),St(vt(e=a.call(this,t)),"state",{focusedOptionIndex:0}),St(vt(e),"onEditorStateChange",(function(t){var n=e.props.store.getAllSearches();if(0===n.size)return t;var r=function(){return e.props.store.resetEscapedSearch(),e.closeDropdown(),t},o=t.getSelection(),i=o.getAnchorKey(),a=o.getAnchorOffset();if(!o.isCollapsed()||!o.getHasFocus())return r();var c=n.map((function(t){return ct(t)})).filter((function(t){return t.blockKey===i})).map((function(e){var n=e.blockKey,r=e.decoratorKey;return t.getBlockTree(n).getIn([r])}));if(c.every((function(t){return void 0===t})))return r();var u=t.getCurrentContent().getPlainText(),s=c.filter((function(t){return void 0!==t})).map((function(t){var n=t.start,r=t.end;return 0===n&&a===e.props.mentionTrigger.length&&u.charAt(a)!==e.props.mentionTrigger&&new RegExp(String.raw({raw:"".concat(W()(e.props.mentionTrigger))}),"g").test(u)&&a<=r||a>n+e.props.mentionTrigger.length&&a<=r}));if(s.every((function(t){return!1===t})))return r();var p=e.activeOffsetKey;return e.activeOffsetKey=s.filter((function(t){return!0===t})).keySeq().first(),e.onSearchChange(t,o,e.activeOffsetKey,p),e.props.store.isEscaped(e.activeOffsetKey)||e.props.store.resetEscapedSearch(),!e.props.open&&!e.props.store.isEscaped(e.activeOffsetKey)&&e.props.suggestions.length>0&&e.openDropdown(),void 0!==e.lastSelectionIsInsideWord&&s.equals(e.lastSelectionIsInsideWord)||e.setState({focusedOptionIndex:0}),e.lastSelectionIsInsideWord=s,t})),St(vt(e),"onSearchChange",(function(t,n,r,o){var i=nt(t,n,e.props.mentionTrigger).matchingString;e.lastSearchValue===i&&r===o||(e.lastSearchValue=i,e.props.onSearchChange({value:i}))})),St(vt(e),"onDownArrow",(function(t){t.preventDefault();var n=e.state.focusedOptionIndex+1;e.onMentionFocus(n>=e.props.suggestions.length?0:n)})),St(vt(e),"onTab",(function(t){t.preventDefault(),e.commitSelection()})),St(vt(e),"onUpArrow",(function(t){if(t.preventDefault(),e.props.suggestions.length>0){var n=e.state.focusedOptionIndex-1;e.onMentionFocus(n<0?e.props.suggestions.length-1:n)}})),St(vt(e),"onEscape",(function(t){t.preventDefault();var n=e.lastSelectionIsInsideWord.filter((function(t){return!0===t})).keySeq().first();e.props.store.escapeSearch(n),e.closeDropdown(),e.props.store.setEditorState(e.props.store.getEditorState())})),St(vt(e),"onMentionSelect",(function(t){if(t){e.props.onAddMention&&e.props.onAddMention(t),e.closeDropdown();var n=ot(e.props.store.getEditorState(),t,e.props.mentionPrefix,e.props.mentionTrigger,e.props.entityMutability);e.props.store.setEditorState(n)}})),St(vt(e),"onMentionFocus",(function(t){var n="mention-option-".concat(e.key,"-").concat(t);e.props.ariaProps.ariaActiveDescendantID=n,e.setState({focusedOptionIndex:t}),e.props.store.setEditorState(e.props.store.getEditorState())})),St(vt(e),"commitSelection",(function(){return e.props.store.getIsOpened()?(e.onMentionSelect(e.props.suggestions[e.state.focusedOptionIndex]),"handled"):"not-handled"})),St(vt(e),"openDropdown",(function(){e.props.callbacks.handleReturn=e.commitSelection,e.props.callbacks.keyBindingFn=function(t){40===t.keyCode&&e.onDownArrow(t),38===t.keyCode&&e.onUpArrow(t),27===t.keyCode&&e.onEscape(t),9===t.keyCode&&e.onTab(t)};var t="mention-option-".concat(e.key,"-").concat(e.state.focusedOptionIndex);e.props.ariaProps.ariaActiveDescendantID=t,e.props.ariaProps.ariaOwneeID="mentions-list-".concat(e.key),e.props.ariaProps.ariaHasPopup="true",e.props.ariaProps.ariaExpanded=!0,e.props.onOpenChange&&e.props.onOpenChange(!0)})),St(vt(e),"closeDropdown",(function(){e.props.callbacks.handleReturn=void 0,e.props.callbacks.keyBindingFn=void 0,e.props.ariaProps.ariaHasPopup="false",e.props.ariaProps.ariaExpanded=!1,e.props.ariaProps.ariaActiveDescendantID=void 0,e.props.ariaProps.ariaOwneeID=void 0,e.props.onOpenChange&&e.props.onOpenChange(!1)})),e.key=Object(i.genKey)(),e.props.callbacks.onChange=e.onEditorStateChange,e}return e=c,(n=[{key:"componentDidUpdate",value:function(t){var e=this;if(this.popover){var n=this.props.suggestions.length;if(n>0&&this.state.focusedOptionIndex>=n&&this.setState({focusedOptionIndex:n-1}),!this.props.store.getAllSearches().has(this.activeOffsetKey))return;var r=this.props.store.getPortalClientRect(this.activeOffsetKey),o=this.props.positionSuggestions({decoratorRect:r,prevProps:t,props:this.props,popover:this.popover});Object.keys(o).forEach((function(t){e.popover.style[t]=o[t]}))}}},{key:"componentWillUnmount",value:function(){this.props.callbacks.onChange=void 0}},{key:"render",value:function(){var t=this;if(!this.props.open)return null;var e=this.props,n=e.entryComponent,r=e.popoverComponent,i=void 0===r?o.a.createElement("div",null):r,a=(e.onOpenChange,e.onAddMention,e.onSearchChange,e.suggestions,e.ariaProps,e.callbacks,e.theme),c=void 0===a?{}:a,u=(e.store,e.entityMutability,e.positionSuggestions,e.mentionTrigger,e.mentionPrefix,yt(e,["entryComponent","popoverComponent","onOpenChange","onAddMention","onSearchChange","suggestions","ariaProps","callbacks","theme","store","entityMutability","positionSuggestions","mentionTrigger","mentionPrefix"]));return o.a.cloneElement(i,dt(dt({},u),{},{className:"mentionSuggestions",role:"listbox",id:"mentions-list-".concat(this.key),ref:function(e){t.popover=e}}),this.props.suggestions.map((function(e,r){return o.a.createElement(et,{key:null!=e.id?e.id:e.name,onMentionSelect:t.onMentionSelect,onMentionFocus:t.onMentionFocus,isFocused:t.state.focusedOptionIndex===r,mention:e,index:r,id:"mention-option-".concat(t.key,"-").concat(r),theme:c,searchValue:t.lastSearchValue,entryComponent:n||pt})})))}}])&&gt(e.prototype,n),r&&gt(e,r),c}(r.Component);St(jt,"propTypes",{open:c.a.bool.isRequired,onOpenChange:c.a.func.isRequired,entityMutability:c.a.oneOf(["SEGMENTED","IMMUTABLE","MUTABLE"]),entryComponent:c.a.func,onAddMention:c.a.func,suggestions:c.a.array.isRequired});var wt=jt;function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rt(t);if(e){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(a,t);var e,n,r,i=Ct(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).searchPortalRef=function(t){e.searchPortal=t},e}return e=a,(n=[{key:"componentDidMount",value:function(){this.props.store.register(this.props.offsetKey),this.props.store.setIsOpened(!0),this.updatePortalClientRect(this.props),this.props.setEditorState(this.props.getEditorState())}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.updatePortalClientRect(t)}},{key:"componentWillUnmount",value:function(){this.props.store.unregister(this.props.offsetKey),this.props.store.setIsOpened(!1)}},{key:"updatePortalClientRect",value:function(t){var e=this;this.props.store.updatePortalClientRect(t.offsetKey,(function(){return e.searchPortal.getBoundingClientRect()}))}},{key:"render",value:function(){return o.a.createElement("span",{className:this.key,ref:this.searchPortalRef},this.props.children)}}])&&Et(e.prototype,n),r&&Et(e,r),a}(r.Component),At=function(t){return function(e,n,r){e.findEntityRanges((function(e){var n=e.getEntity();return null!==n&&r.getEntity(n).getType()===rt(t)}),n)}},Dt=n(6),It=n.n(Dt),Tt=function(t,e,n){var r=e?new RegExp("".concat(It()(t),"(").concat(n,"|\\s){0,}"),"g"):new RegExp("(\\s|^)".concat(It()(t)).concat(n),"g");return function(t,e){!function(t,e,n){var r=e.getText();e.findEntityRanges((function(t){return!t.getEntity()}),(function(e,o){for(var i,a,c=r.slice(e,o),u=t.lastIndex;null!==(i=t.exec(c))&&t.lastIndex!==u;)u=t.lastIndex,a=e+i.index,n(a,a+i[0].length)}))}(r,t,e)}},_t=function(t,e){var n=t.toLowerCase(),r=e.filter((function(t){return!n||t.name.toLowerCase().indexOf(n)>-1})),o=r.length<5?r.length:5;return r.slice(0,o)},Kt=function(t){var e=t.decoratorRect,n=t.popover,r=t.props,o=function t(e){return e?"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:t(e.parentElement):null}(n.parentElement),i={};if(o){i.scrollLeft=o.scrollLeft,i.scrollTop=o.scrollTop;var a=o.getBoundingClientRect();i.left=e.left-a.left,i.top=e.bottom-a.top}else i.scrollTop=window.pageYOffset||document.documentElement.scrollTop,i.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,i.top=e.bottom,i.left=e.left;var c,u,s=i.left+i.scrollLeft,p=i.top+i.scrollTop;return r.open&&(r.suggestions.length>0?(c="scale(1)",u="all 0.25s cubic-bezier(.3,1.2,.2,1)"):(c="scale(0)",u="all 0.35s cubic-bezier(.3,1,.2,1)")),{left:"".concat(s,"px"),top:"".concat(p,"px"),transform:c,transformOrigin:"1em 0%",transition:u}},Ft=n(4);function Ut(){var t=zt(["\n\t\tdisplay: inline-block;\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 12px;\n\t"]);return Ut=function(){return t},t}function Bt(){var t=zt(["\n\t\tdisplay: inline-block;\n\t\tmargin-left: 8px;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tmax-width: 368px;\n\t\tfont-size: 0.9em;\n\t\tmargin-bottom: 0.2em;\n\t"]);return Bt=function(){return t},t}function Lt(){var t=zt(["\n\t\t","\n\t\tbackground-color: #e6f3ff;\n\t"]);return Lt=function(){return t},t}function Nt(){var t=zt(["\n\t\t","\n\t"]);return Nt=function(){return t},t}function Ht(){var t=zt(["\n\t\tborder: 1px solid #eee;\n\t\tmargin-top: 0.4em;\n\t\tposition: absolute;\n\t\tmin-width: 220px;\n\t\tmax-width: 440px;\n\t\tbackground: #fff;\n\t\tborder-radius: 2px;\n\t\tbox-shadow: 0px 4px 30px 0px rgba(220, 220, 220, 1);\n\t\tcursor: pointer;\n\t\tpadding-top: 8px;\n\t\tpadding-bottom: 8px;\n\t\tz-index: 2;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbox-sizing: border-box;\n\t\ttransform: scale(0);\n\t"]);return Ht=function(){return t},t}function qt(){var t=zt(["\n\t\t&,\n\t\t&:visited {\n\t\t\tcolor: #575f67;\n\t\t\tcursor: pointer;\n\t\t\tdisplay: inline-block;\n\t\t\tbackground: #e6f3ff;\n\t\t\tpadding-left: 2px;\n\t\t\tpadding-right: 2px;\n\t\t\tborder-radius: 2px;\n\t\t\ttext-decoration: none;\n\t\t}\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tcolor: #677584;\n\t\t\tbackground: #edf5fd;\n\t\t\toutline: 0; /* reset for :focus */\n\t\t}\n\t\t&:active {\n\t\t\tcolor: #222;\n\t\t\tbackground: #455261;\n\t\t}\n\t"]);return qt=function(){return t},t}function zt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var $t="\n  padding: 7px 10px 3px 10px;\n  transition: background-color 0.4s cubic-bezier(.27,1.27,.48,.56);\n  &:active {\n    background-color: #cce7ff;\n  }\n",Wt={mention:Object(Ft.css)(qt()),mentionSuggestions:Object(Ft.css)(Ht()),mentionSuggestionsEntry:Object(Ft.css)(Nt(),$t),mentionSuggestionsEntryFocused:Object(Ft.css)(Lt(),$t),mentionSuggestionsEntryText:Object(Ft.css)(Bt()),mentionSuggestionsEntryAvatar:Object(Ft.css)(Ut())};function Vt(){return(Vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Gt=_t,Jt=n(11),Xt=n.n(Jt),Yt=[{name:"Matthew Russell",link:"https://twitter.com/mrussell247",avatar:"https://pbs.twimg.com/profile_images/517863945/mattsailing_400x400.jpg"},{name:"Julian Krispel-Samsel",link:"https://twitter.com/juliandoesstuff",avatar:"https://avatars2.githubusercontent.com/u/1188186?v=3&s=400"},{name:"Jyoti Puri",link:"https://twitter.com/jyopur",avatar:"https://avatars0.githubusercontent.com/u/2182307?v=3&s=400"},{name:"Max Stoiber",link:"https://twitter.com/mxstbr",avatar:"https://pbs.twimg.com/profile_images/763033229993574400/6frGyDyA_400x400.jpg"},{name:"Nik Graf",link:"https://twitter.com/nikgraf",avatar:"https://avatars0.githubusercontent.com/u/223045?v=3&s=400"},{name:"Pascal Brandt",link:"https://twitter.com/psbrandt",avatar:"https://pbs.twimg.com/profile_images/688487813025640448/E6O6I011_400x400.png"}];function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(){return(Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function te(t){return function(t){if(Array.isArray(t))return ee(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ne(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=se(t);if(e){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(t,e){return!e||"object"!==Qt(e)&&"function"!=typeof e?ue(t):e}function ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(c,t);var e,n,r,a=ae(c);function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),pe(ue(e=a.call(this,t)),"onChange",(function(t){e.props.onChange&&e.props.onChange(t),e.setState({editorState:t})})),pe(ue(e),"onSearchChange",(function(t){var n=t.value;e.setState({suggestions:Gt(n,Yt)})})),pe(ue(e),"onAddMention",(function(t){console.log("onAddMention",t)})),pe(ue(e),"focus",(function(){e.editor.focus()})),pe(ue(e),"onOpenChange",(function(t){e.props.onOpenChange&&e.props.onOpenChange(t),e.setState({open:t})}));var n=t.config,r=void 0===n?{}:n;return e.mentionPlugin=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={keyBindingFn:void 0,handleKeyCommand:void 0,handleReturn:void 0,onChange:void 0},i={ariaHasPopup:"false",ariaExpanded:!1,ariaOwneeID:void 0,ariaActiveDescendantID:void 0},a=Object(u.Map)(),c=Object(u.Map)(),s={getEditorState:void 0,setEditorState:void 0,getPortalClientRect:function(t){return c.get(t)()},getAllSearches:function(){return a},isEscaped:function(e){return t===e},escapeSearch:function(e){t=e},resetEscapedSearch:function(){t=void 0},register:function(t){a=a.set(t,t)},updatePortalClientRect:function(t,e){c=c.set(t,e)},unregister:function(t){a=a.delete(t),c=c.delete(t)},getIsOpened:function(){return e},setIsOpened:function(t){e=t}},p=n.mentionPrefix,f=void 0===p?"":p,l=n.theme,d=void 0===l?Wt:l,y=n.positionSuggestions,g=void 0===y?Kt:y,h=n.mentionComponent,b=n.mentionSuggestionsComponent,m=void 0===b?wt:b,v=n.entityMutability,O=void 0===v?"SEGMENTED":v,S=n.mentionTrigger,j=void 0===S?"@":S,w=n.mentionRegExp,x=void 0===w?"[\\w------------]*":w,E=n.supportWhitespace,P=void 0!==E&&E;console.log({config:n});var C={ariaProps:i,callbacks:r,theme:d,store:s,entityMutability:O,positionSuggestions:g,mentionTrigger:j,mentionPrefix:f},k=function(t){return o.a.createElement(m,Vt({},t,C))},R=function(t){return o.a.createElement(z,Vt({},t,{theme:d,mentionComponent:h}))},M=function(t){return o.a.createElement(Mt,Vt({},t,{store:s}))};return{MentionSuggestions:k,decorators:[{strategy:At(j),component:R},{strategy:Tt(j,P,x),component:M}],getAccessibilityProps:function(){return{role:"combobox",ariaAutoComplete:"list",ariaHasPopup:i.ariaHasPopup,ariaExpanded:i.ariaExpanded,ariaActiveDescendantID:i.ariaActiveDescendantID,ariaOwneeID:i.ariaOwneeID}},initialize:function(t){var e=t.getEditorState,n=t.setEditorState;s.getEditorState=e,s.setEditorState=n},keyBindingFn:function(t){return r.keyBindingFn&&r.keyBindingFn(t)},handleReturn:function(t){return r.handleReturn&&r.handleReturn(t)},onChange:function(t){return r.onChange?r.onChange(t):t}}}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){pe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({mentionComponent:t.mentionComponent},r.mentions)),e.state={editorState:i.EditorState.createEmpty(),suggestions:t.mentions,open:!1},e}return e=c,(n=[{key:"render",value:function(){var t=this,e=this.mentionPlugin.MentionSuggestions,n=this.props,r=n.mentions,i=void 0!==r&&r,a=n.plugins,c=void 0===a?[]:a,u=n.mentionComponent,s=n.entryComponent,p=n.onSearchChange,f=void 0===p?this.onSearchChange:p,l=n.onAddMention,d=void 0===l?this.onAddMention:l,y=(n.onChange,n.helperComponent),g=void 0===y?o.a.createElement("div",null):y,h=ne(n,["mentions","plugins","mentionComponent","entryComponent","onSearchChange","onAddMention","onChange","helperComponent"]);return o.a.createElement("div",{className:Xt.a.editor,onClick:this.focus},o.a.createElement(L,Zt({editorState:this.state.editorState,onChange:this.onChange,plugins:[this.mentionPlugin].concat(te(c)),ref:function(e){t.editor=e}},h)),o.a.cloneElement(g),i&&o.a.createElement(e,{open:this.state.open,onOpenChange:this.onOpenChange,suggestions:this.state.suggestions,onSearchChange:f,onAddMention:d,mentionComponent:u,entryComponent:s}))}}])&&oe(e.prototype,n),r&&oe(e,r),c}(r.Component);fe.defaultProps={mentions:0===Yt.length&&Yt}}])}));